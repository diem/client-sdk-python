from pylibra import TransactionUtils

ADDRESS = bytes.fromhex("fe3e61c509e00e49c018f140c302da2e66be04937a41db1d3ee116cac9646d0f")
RECEIVER_ADDRESS = bytes.fromhex("00" * 32)
PRIVATE_KEY = bytes.fromhex("11" * 32)
_PUBLIC_KEY = bytes.fromhex("22" * 32)


SIGNED_TXN_BYTES_HEX = "a07ffc5e1799c00f3ac9fa7bbf1db75a25aaf4d0ac1e104f3f16a5445cd9c571ff0000000000000002000000b80000004c49425241564d0a010007014a00000004000000034e000000060000000d54000000060000000e5a0000000600000005600000002900000004890000002000000008a90000000f00000000000001000200010300020002040200030204020300063c53454c463e0c4c696272614163636f756e74046d61696e0f7061795f66726f6d5f73656e6465720000000000000000000000000000000000000000000000000000000000000000000100020004000c000c0113010102020000000100000000000000000000000000000000000000000000000000000000000000000000000000000040420f0000000000e02202000000000000000000000000002c0100000000000020000000d04ab232742bb4ab3a1368bd4615e4e6d0224ab71a016baf8520a332c977873740000000663685df054939b729ed8d0a95feb8210257449bf714661b762226fb8b80798c9f98c1ed42c43c0af63a9697d24e06891eab78375f42bc9740faeab6b0960d04"


def test_sign_transcation():
    tx = TransactionUtils.createSignedP2PTransaction(
        PRIVATE_KEY,
        RECEIVER_ADDRESS,
        # sequence
        255,
        # 1 libra
        1_000_000,
    )

    # TODO: changes everytime
    assert SIGNED_TXN_BYTES_HEX == tx.hex
